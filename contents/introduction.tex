\chapter{Introduction}
\label{ch:introduction}
Since Veach and Guibas introduced Multiple Importance Sampling (MIS)~\cite{veach_guibas}
it had a hugh impact in a variety of directions in computer graphics.
Not only did it help to construct more advanced rendering algorithms like Vertex Connection and Merging~\cite{vcm},
it also helped in calculating direct illumination from area light sources and environment maps~\cite[Chapter~14.3]{pbr-book}
and subsurface scattering~\cite{King}.
Besides being introduced in computer graphics MIS has also been used in other fields~\cite{he}.

For the proof of MIS being almost optimal the assumption was made,
that the distribution of samples among the techniques and the sampling densities are given and fixed.
The only things left for fine tuning was the weighting function
with the balance heuristic being a popular and widely adopted choice because of its simplicity
and proven tight bounds when only using non-negative weights~\cite[Theorem~9.2]{veach-thesis}.
Recently researchers found that using not only non-negative weights can result in a truly optimal weighting function~\cite{Kondapaneni2019}.

No previous work examined the effect of designing a sampling density itself for application in the MIS framework.
Karl\'ik et al. proposed a method to do exactly that and show that it can improve the MIS framework and reduce variance even further.
They assumed multiple sampling techniques and pick one probability density function (pdf) of a technique and modify it in a way that it compensates for the averaging introduced by the balance heuristic.
Their optimization can be applied beforehand and doesn't need adaptive updates as the work of Capp\'e et al.~\cite{Cappe2008}.
Others created product sampling methods~\cite{Herholz} that try to match the integrand closer,
but MIS compensation as, Karl\'ik et al. call their method,
on the other hand can even cause a pdf to be further away from the integrand but still reduce the variance~\cite{Karlik2019}.

Karl\'ik et al. show the effects of their MIS compensation with direct illumination using a HDR environment map
and a scene with surfaces that have multiple different bidirectional reflectance distribution functions (BRDF).
The standard approach with MIS would take samples proportional to the BRDF and the environment map,
but they assume this approach to be too defensive and modify the pdf for the environment map in a way that the variance is reduced
and therefore render times can be improved.
Their modification is done by applying a formula to the tabulated pdf in a preprocessing step
after which any renderer able to use HDR maps for MIS sampling can use the updated environment map for sampling without any further adjustment.\\
They also used their approach in path guiding~\cite{Vorba_2019} which learns a guiding density to improve the algorithm of~\cite{mueller2017} by adjusting that density~\cite{Karlik2019}.